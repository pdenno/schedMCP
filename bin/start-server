#!/bin/bash
# Start the schedMCP server

# Check if required environment variables are set
if [ -z "$SCHEDULING_TBD_DB" ]; then
    echo "Error: SCHEDULING_TBD_DB environment variable is not set."
    echo "Please set it to the directory where you want to store scheduling databases."
    echo "Example: export SCHEDULING_TBD_DB=/opt/scheduling"
    exit 1
fi

# Create database directories if they don't exist
mkdir -p "$SCHEDULING_TBD_DB/projects"
mkdir -p "$SCHEDULING_TBD_DB/system"

echo "Starting schedMCP server..."
echo "Database directory: $SCHEDULING_TBD_DB"

# Run the server
clojure -M -m sched-mcp.main
